// buildé˜¶æ®µ é…ç½®
/*
å‚è€ƒï¼š
- å·²å†™å¥½çš„åŸºç¡€é…ç½®ï¼Œå¯ç›´æ¥extends: https://github.com/tsconfig/bases
- https://github.com/microsoft/TypeScript
- tsc -h åªåˆ—å‡ºéƒ¨åˆ†å‚æ•°ï¼Œå…¨éƒ¨å‚æ•°å‚è€ƒ: https://www.typescriptlang.org/docs/handbook/compiler-options.html
*/
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "extends": ["@tsconfig/recommended/tsconfig.json"],
  "compilerOptions": {
    /**********************************************************************************
    ## ğŸˆ²ï¸ç¦æ­¢åœ¨tsconfig.base.json çš„é€‰é¡¹

    - baseUrlå’Œpaths
      - å¿…é¡»å­é¡¹ç›®è‡ªè¡Œè®¾ç½®,pathsåŸºäºbaseUrl,å¦‚æœå­é¡¹ç›®ç»§æ‰¿ä½¿ç”¨æ ¹ç›®å½•base configçš„baseUrlå’Œpaths,å°±ä¼šåœ¨å­é¡¹ç›®çš„ç›®å½•é‡Œæ‰¾packagesç›®å½•ï¼Œä¼šå¤±è´¥.
    - tsBuildInfoFile
    - rootDir
    - outDir

    æ‰€æœ‰è·¯å¾„ç›¸å…³é…ç½®éƒ½ç¦æ­¢åœ¨æœ¬æ–‡ä»¶ä¸­è®¾ç½®ï¼Œå› ä¸ºåœ¨æœ¬æ–‡ä»¶ä¸­è®¾ç½®çš„pathï¼Œè¢«å­é¡¹ç›®extendsåï¼Œå€¼ä»ç„¶ç›¸å¯¹ä»¥æœ¬ç›®å½•ï¼Œ
    å‡è®¾æœ¬æ–‡ä»¶é…ç½® outDir:'./dist', ä» packages/cli é¡¹ç›®çœ‹å˜æˆ: outDir: '../../dist'ï¼Œè¿™åªä¼šé€ æˆæ··ä¹±.

    ä¸‹é¢éƒ½æ˜¯å­é¡¹ç›®å¯ä»¥ç»§æ‰¿çš„
    ***********************************************************************************/

    /**********************************************************************************

    ## module é€‰é¡¹
    ***********************************************************************************/
    // å…è®¸é¡¹ç›®è¢«references
    "composite": true,
//    // æœ¬é…ç½®é»˜è®¤å…ˆè¢«devç¯å¢ƒç»§æ‰¿ï¼Œå³å„å­é¡¹ç›®çš„ï¼š./tsconfig.jsonï¼Œä¸éœ€è¦buildï¼Œåªå¼€å‘ä½¿ç”¨
//    "noEmit": true,

    "allowImportingTsExtensions": true,
    "emitDeclarationOnly": true,
    "declaration": true,
    // å¯ç”¨ ES Modules ä¸ CommonJS çš„äº’æ“ä½œ
    // å½“ esModuleInterop è®¾ç½®ä¸º true æ—¶ï¼ŒTypeScript ç¼–è¯‘åçš„ä»£ç ä¼šå¤„ç†å¥½ ES Modules å’Œ CommonJS æ¨¡å—ä¹‹é—´çš„å·®å¼‚ï¼Œè®©é»˜è®¤å¯¼å…¥æ­£å¸¸å·¥ä½œã€‚
    "esModuleInterop": true,
        "types": [
          "vitest/importMeta"
        ],
    /*
    ## Bundler mode
    */
    // Node.js é¡¹ç›®ï¼šå¦‚æœä½¿ç”¨ CommonJSï¼Œé€‰ nodeï¼›å¦‚æœä½¿ç”¨ ES Modulesï¼Œé€‰ node16 æˆ– nodenextã€‚
    // å‰ç«¯é¡¹ç›®ï¼šä½¿ç”¨æ‰“åŒ…å·¥å…·æ—¶ï¼Œé€‰ bundlerã€‚
    // æ—§é¡¹ç›®ï¼šå¯ä»¥è€ƒè™‘ classicï¼Œä¸è¿‡å»ºè®®å‡çº§åˆ°ç°ä»£è§£æç­–ç•¥ã€‚
    "moduleResolution": "nodenext",
    // ç”Ÿæˆæ¨¡å—ä»£ç çš„è§„èŒƒã€‚NodeNext (æˆ– ESNext) ä¸ Bun çš„ ESM æ¨¡å—ç³»ç»Ÿå¯¹é½ã€‚
    "module": "NodeNext",
    "target": "es2022",
    // åŒ: /// <reference lib="ES2022" />
    // å–å€¼ï¼šhttps://github.com/microsoft/TypeScript/tree/main/src/lib
    "lib": [
      "ES2022"
    ],
    /*
    ## lint
    */
    // å¼€å¯ strict: true èƒ½è®© TypeScript ç¼–è¯‘å™¨æ‰§è¡Œæ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼Œå¦‚ strictNullChecksã€strictFunctionTypes ç­‰


    /**********************************************************************************
    ## lint , ç¼–è¯‘çº¦æŸ
    ***********************************************************************************/

    "useUnknownInCatchVariables":true,
    "strict": true,
    "skipLibCheck": true,
    // åœ¨ä¸åŒæ“ä½œç³»ç»Ÿé‡Œï¼Œæ–‡ä»¶ç³»ç»Ÿå¯¹æ–‡ä»¶åå¤§å°å†™çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œåƒ Windows ä¸åŒºåˆ†å¤§å°å†™ï¼Œè€Œ Linux å’Œ macOS åŒºåˆ†ã€‚
    // è¿™ä¸ªé…ç½®é¡¹èƒ½ç¡®ä¿åœ¨ TypeScript é¡¹ç›®é‡Œï¼Œå¼•ç”¨æ–‡ä»¶æ—¶ä½¿ç”¨çš„æ–‡ä»¶åå¤§å°å†™ä¸å®é™…æ–‡ä»¶ä¸€è‡´ï¼Œé¿å…å› å¤§å°å†™ä¸ä¸€è‡´å¼•å‘çš„é—®é¢˜ã€‚
    "forceConsistentCasingInFileNames": true,
    // å¼ºåˆ¶å°†é¡¹ç›®ä¸­çš„æ‰€æœ‰ .tsã€.tsxã€.jsã€.jsx æ–‡ä»¶éƒ½è§†ä¸ºç‹¬ç«‹çš„ ECMAScript æ¨¡å—, é»˜è®¤ä¼šè‡ªåŠ¨ä¾¦æµ‹
    // é˜²æ­¢typescriptè®¤ä¸ºä¸€ä¸ªæ–‡ä»¶æ˜¯å…¨å±€è„šæœ¬ï¼Œè€ŒæŠŠå…¶å†…éƒ¨å˜é‡éƒ½æ³¨å†Œåˆ°å…¨å±€ç©ºé—´
    "moduleDetection": "force",
    /**********************************************************************************
    ## debug use
    ***********************************************************************************/

    "traceResolution": false

  },
}